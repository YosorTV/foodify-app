(this["webpackJsonpfoodify-app"]=this["webpackJsonpfoodify-app"]||[]).push([[0],{161:function(e,t,n){"use strict";n.r(t);var a,r,i,c,o,s,l=n(0),j=n(14),d=n.n(j),u=n(18),b=n(42),O=n(11),h=n(224),m=n(53),v=n(54),x=n(118),f=n(81),p=n(194),g=Object(x.a)({palette:{primary:{main:f.a[500]},secondary:{main:"#f44336"},type:"dark"}}),S=v.a.nav(a||(a=Object(m.a)(["\n  padding: 1rem 0.5rem;\n  height: 75px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),D=Object(v.a)(b.b)(r||(r=Object(m.a)(["\n  text-decoration: none;\n  color: #303030;\n  transition: all .1s linear;\n  &:nth-child(2){\n    margin-left: 1rem;\n  }\n  &.active{\n    color: #eeeeee;\n  }\n"]))),E=v.a.main(i||(i=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height:100vh;\n"]))),y=v.a.section(c||(c=Object(m.a)(["\n  display: flex;\n  margin-top: 5rem;\n  height: calc(100vh - 75px);\n"]))),_=Object(v.a)(p.a)(o||(o=Object(m.a)(["\n  max-width: 600px;\n  margin: 0 auto;\n  img{\n    height: 300px;\n    object-fit: cover;\n  }\n  figcaption{\n    .tags{\n      display: flex;\n      justify-content: space-between;\n      margin-bottom: .5rem;\n    }\n    p {\n      height: 124px;\n      padding: .5rem .5rem 0 0;\n      text-overflow: ellipsis;\n      overflow: auto;\n        &::-webkit-scrollbar {\n          width: .2rem;\n        }\n        &::-webkit-scrollbar-track {\n          box-shadow: inset 0 0 5px #424242;\n          border-radius: 20px;\n        }\n        &::-webkit-scrollbar-thumb {\n          background: #4caf50;\n        }\n      }\n    }\n  .actions{\n    justify-content: space-between;\n  }\n"]))),I=Object(v.a)(_)(s||(s=Object(m.a)(["\n  max-width: none;\n  margin: 1rem 1rem;\n"]))),T=n(68),w=n.p+"static/media/not-found.e4279006.svg",C=n(3),H=function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("img",{src:w,alt:"Not Found"}),Object(C.jsx)(T.a,{component:D,to:"/",variant:"button",style:{marginTop:"2rem"},children:"Return"})]})},R=n(220),F=n(221),k=n(222),M=function(e){return e.sideBar.isOpened},A=function(e){return e.dishes},N=Object.freeze({SET_SIDEBAR:"SET_SIDEBAR"}),V=Object.freeze({FETCH_DISHES:"FETCH_DISHES",FETCH_DISHES_SUCCESS:"FETCH_DISHES_SUCCESS",FETCH_DISHES_ERROR:"FETCH_DISHES_ERROR",SET_DISH_TO_FAVOURITE:"SET_DISH_TO_FAVOURITE",ADD_DISH:"ADD_DISH",REMOVE_DISH:"REMOVE_DISH",EDIT_DISH:"EDIT_DISH"}),U=function(e){return{type:N.SET_SIDEBAR,payload:e}},B=n(17),J=n.n(B),z=n(27),q=n(114),L=n.n(q).a.create({baseURL:"https://www.themealdb.com/api/json/v1/1/random.php"}),Y=Object.freeze({getRandomDish:function(){return function(){var e=Object(z.a)(J.a.mark((function e(t){var n,a,r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:V.FETCH_DISHES}),e.next=4,L.get();case 4:n=e.sent,a=n.data,t({type:V.FETCH_DISHES_SUCCESS,payload:a}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),404===(r=e.t0.response).status&&t({type:V.FETCH_DISHES_ERROR,payload:r.statusText||"Oops something go wrong..."});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},setDish:function(e){return{type:V.SET_DISH_TO_FAVOURITE,payload:e}},removeDish:function(e){return{type:V.REMOVE_DISH,payload:e}},addDish:function(e){return{type:V.ADD_DISH,payload:e}}}),W=n(28),X=n(205),G=n(39),P=n(16),K=n(67),Q=n(196),Z=n(197),$=n(198),ee=n(199),te=n(200),ne=n(226),ae=n(203),re=n(204),ie=n(115),ce=n.n(ie),oe=n(62),se=function e(t,n,a){Object(oe.a)(this,e),this.strMeal=t,this.strInstructions=n,this.idMeal=a},le=function(){var e,t=Object(u.c)(A).favourites,n=new se("","",null),a=n.strMeal,r=n.strInstructions,i=Object(K.b)({mode:"onSubmit",defaultValues:{strMeal:a,strInstructions:r}}),c=i.control,o=i.handleSubmit,s=i.reset,j=Object(K.c)({control:c}).isDirty,d=function(){var e=Y.addDish,t=Object(u.b)();return{add:function(n){return t(e(n))}}}().add,b=Object(l.useState)(!1),O=Object(G.a)(b,2),h=O[0],m=O[1],v=function(){return m(!1)};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Q.a,{onClick:function(){return m(!0)},style:{marginLeft:"0.5rem",marginTop:"0.5rem"},children:Object(C.jsx)(ce.a,{})}),Object(C.jsx)(Z.a,{onClose:v,"aria-labelledby":"customized-dialog-title",open:h,children:Object(C.jsxs)("form",{onSubmit:(e=v,o((function(n){var a=n.strMeal,r=n.strInstructions,i=Math.ceil(1e4*Math.random()),c=new se(a,r,i);d(c),localStorage.setItem("favDishes",JSON.stringify([c].concat(Object(P.a)(t)))),s(),e()}))),children:[Object(C.jsx)($.a,{id:"dialog-title",children:"Add your custom dish"}),Object(C.jsx)(ee.a,{dividers:!0,children:Object(C.jsxs)(te.a,{container:!0,alignItems:"center",justify:"center",spacing:3,children:[Object(C.jsx)(te.a,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,children:Object(C.jsx)(K.a,{name:"strMeal",control:c,defaultValue:a,render:function(e){var t=e.field,n=t.onChange,a=t.value,r=e.fieldState.error;return Object(C.jsx)(ne.a,{fullWidth:!0,label:"Title",variant:"outlined",value:a,onChange:n,error:!!r,helperText:r?r.message:null})},rules:{required:"Title required"}})}),Object(C.jsx)(te.a,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,children:Object(C.jsx)(K.a,{name:"strInstructions",control:c,defaultValue:r,render:function(e){var t=e.field,n=t.onChange,a=t.value,r=e.fieldState.error;return Object(C.jsx)(ne.a,{label:"Description",fullWidth:!0,multiline:!0,variant:"outlined",value:a,onChange:n,error:!!r,helperText:r?r.message:null})},rules:{required:"Description required"}})})]})}),Object(C.jsx)(ae.a,{children:Object(C.jsx)(re.a,{type:"submit",disabled:!j,children:"Add Dish"})})]})})]})},je=function(){var e=Object(W.a)().breakpoints,t=Object(O.g)().pathname,n=Object(X.a)(e.down("md")),a=t.includes("favourites")?Object(C.jsx)(le,{}):null;return Object(C.jsxs)(S,{children:[n?Object(C.jsx)(pe,{}):Object(C.jsxs)("div",{style:{margin:"0 auto"},children:[Object(C.jsx)(T.a,{component:D,variant:"button",to:"/",end:!0,children:"Random Dish"}),Object(C.jsx)(T.a,{component:D,variant:"button",to:"/favourites",children:"Favourite Dishes"})]}),a]})},de=n(208),ue=n(209),be=n(210),Oe=n(211),he=n(229),me=n(202),ve=n(206),xe=n(207),fe=n(212),pe=function(){var e=Object(O.h)(),t=Object(u.b)(),n=Object(u.c)(M),a=[{text:"Random Dish",icon:Object(C.jsx)(ve.a,{}),onClick:function(){return e("/")}},{text:"Favourite Dishes",icon:Object(C.jsx)(xe.a,{}),onClick:function(){return e("/favourites")}}],r=null===a||void 0===a?void 0:a.map((function(e){var t=e.text,n=e.icon,a=e.onClick;return Object(C.jsxs)(l.Fragment,{children:[Object(C.jsxs)(de.a,{component:"li",button:!0,onClick:a,children:[Object(C.jsx)(ue.a,{children:n}),Object(C.jsx)(be.a,{children:t})]}),Object(C.jsx)(Oe.a,{})]},t)}));return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Q.a,{"aria-label":"open drawer",onClick:function(){return t(U(!0))},children:Object(C.jsx)(fe.a,{})}),Object(C.jsx)(he.a,{variant:"persistent",anchor:"left",open:n,children:Object(C.jsx)(me.a,{children:r})})]})},ge=n(227),Se=function(e){var t=e.error,n=t&&Object(C.jsx)(ge.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:!!t,message:t});return Object(C.jsx)(C.Fragment,{children:n})},De=n(228),Ee=n(225),ye=n(213),_e=n(214),Ie=n(230),Te=n(216),we=n(217),Ce=n(215),He=n(218),Re=n(219),Fe=n.p+"static/media/menu-item-placeholder.bd14d992.png",ke={hidden:{opacity:0},show:{opacity:1,transition:{duration:.75},exit:{opacity:0,transition:{duration:.75}}}},Me={hidden:{opacity:0,scale:.5},show:{opacity:1,scale:1,transition:{duration:.5},exit:{opacity:0,transition:{duration:.5}}}},Ae=function(e){var t=e.data,n=e.onSkip,a=e.loading,r=e.onSave,i=Object(u.c)(A).favourites,c=a?Object(C.jsx)(ye.a,{animation:"wave",variant:"rect",height:300}):Object(C.jsx)(_e.a,{component:"img",image:(null===t||void 0===t?void 0:t.strMealThumb)?null===t||void 0===t?void 0:t.strMealThumb:Fe,title:"Contemplative Reptile"}),o=a?Object(C.jsx)(ye.a,{animation:"wave",variant:"text",height:20,width:"40%"}):Object(C.jsxs)(T.a,{gutterBottom:!0,variant:"h5",component:"h2",children:[" ",null===t||void 0===t?void 0:t.strMeal," "]}),s=a?Object(C.jsx)(ye.a,{animation:"wave",variant:"text",height:155,width:"100%"}):Object(C.jsx)(T.a,{variant:"body2",color:"textSecondary",component:"p",children:null===t||void 0===t?void 0:t.strInstructions}),l=a?Object(C.jsx)(ye.a,{animation:"wave",variant:"text",height:20,width:"30%"}):(null===t||void 0===t?void 0:t.strTags)&&Object(C.jsx)(Ie.a,{variant:"default",label:null===t||void 0===t?void 0:t.strTags}),j=a?Object(C.jsx)(ye.a,{animation:"wave",variant:"text",height:20,width:"20%"}):(null===t||void 0===t?void 0:t.strYoutube)&&Object(C.jsx)(Ie.a,{component:"a",label:"watch",href:null===t||void 0===t?void 0:t.strYoutube,variant:"outlined",avatar:Object(C.jsx)(Ce.a,{}),target:"_blank",clickable:!0});return Object(C.jsx)(te.a,{container:!0,justify:"center",alignItems:"center",component:"section",children:Object(C.jsx)(te.a,{item:!0,xs:10,sm:10,md:10,lg:10,xl:4,style:{marginTop:"5rem"},children:Object(C.jsx)(De.a,{children:!a&&Object(C.jsxs)(_,{component:Ee.a.figure,variants:Me,initial:"hidden",animate:"show",children:[c,Object(C.jsxs)(Te.a,{component:"figcaption",children:[o,Object(C.jsxs)("div",{className:"tags",children:[l,j]}),s]}),Object(C.jsx)(Oe.a,{}),Object(C.jsxs)(we.a,{className:"actions",children:[Object(C.jsx)(Q.a,{color:"primary",onClick:function(){return n()},children:Object(C.jsx)(He.a,{})}),Object(C.jsx)(Q.a,{disabled:!!i.includes(t),color:"secondary",onClick:function(){return r(null===t||void 0===t?void 0:t.idMeal)},children:Object(C.jsx)(Re.a,{})})]})]})})})})},Ne=function(){var e=Object(u.b)(),t=Object(u.c)(M);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(R.a,{}),Object(C.jsxs)(F.a,{disableGutters:!0,maxWidth:"xl",onClick:function(){return t&&e(U(!1))},children:[Object(C.jsx)(k.a,{color:"primary",children:Object(C.jsx)(je,{})}),Object(C.jsx)(E,{children:Object(C.jsx)(O.a,{})})]})]})},Ve=function(){var e=Object(u.c)(A),t=e.randomDish.meals,n=e.loading,a=e.error,r=e.favourites,i=function(){var e=Y.getRandomDish,t=Object(u.b)();return{load:function(){return t(e())}}}().load,c=function(){var e=Y.setDish,t=Object(u.b)();return{save:function(n){return t(e(n))}}}().save;return localStorage.setItem("favDishes",JSON.stringify(r)),Object(l.useEffect)((function(){return i()}),[]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Se,{error:a}),Object(C.jsx)(Ae,{data:null===t||void 0===t?void 0:t[0],onSkip:function(){return i()},onSave:function(e){var n=null===t||void 0===t?void 0:t.filter((function(t){return t.idMeal===e}));r.includes.apply(r,Object(P.a)(n))||c.apply(void 0,Object(P.a)(n))},loading:n})]})},Ue=n(223),Be=function(){var e=Object(u.c)(A).favourites,t=function(){var e=Y.removeDish,t=Object(u.b)();return{remove:function(n){return t(e(n))}}}().remove,n=e.map((function(e){return Object(C.jsx)(l.Fragment,{children:Object(C.jsx)(te.a,{item:!0,xl:4,lg:4,md:6,sm:12,xs:12,children:Object(C.jsxs)(I,{component:Ee.a.figure,variants:ke,initial:"hidden",animate:"show",children:[Object(C.jsx)(_e.a,{component:"img",image:(null===e||void 0===e?void 0:e.strMealThumb)?null===e||void 0===e?void 0:e.strMealThumb:Fe,title:"Contemplative Reptile"}),Object(C.jsxs)(Te.a,{component:"figcaption",children:[Object(C.jsxs)(T.a,{gutterBottom:!0,variant:"h5",component:"h3",children:[" ",null===e||void 0===e?void 0:e.strMeal]}),Object(C.jsxs)("div",{className:"tags",children:[(null===e||void 0===e?void 0:e.strTags)&&Object(C.jsx)(Ie.a,{variant:"default",label:null===e||void 0===e?void 0:e.strTags}),(null===e||void 0===e?void 0:e.strYoutube)&&Object(C.jsx)(Ie.a,{component:"a",label:"watch",href:null===e||void 0===e?void 0:e.strYoutube,variant:"outlined",avatar:Object(C.jsx)(Ce.a,{}),target:"_blank",clickable:!0})]}),Object(C.jsx)(T.a,{variant:"body2",color:"textSecondary",component:"p",children:null===e||void 0===e?void 0:e.strInstructions})]}),Object(C.jsx)(Oe.a,{}),Object(C.jsx)(we.a,{className:"actions",children:Object(C.jsx)(Q.a,{color:"secondary",onClick:function(){return function(e){return t(e)}(e)},children:Object(C.jsx)(Ue.a,{})})})]})})},e.idMeal)}));return Object(C.jsx)(y,{children:Object(C.jsx)(te.a,{container:!0,justify:"flex-start",alignItems:"center",children:e.length>0?n:Object(C.jsx)(T.a,{component:"h2",variant:"h2",children:"No saved dishes at list"})})})},Je=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ve,{})})},ze=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Be,{})})},qe=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(h.a,{theme:g,children:Object(C.jsx)(O.d,{children:Object(C.jsxs)(Ne,{children:[Object(C.jsx)(O.b,{path:"/",element:Object(C.jsx)(Je,{})}),Object(C.jsx)(O.b,{path:"/favourites",element:Object(C.jsx)(ze,{})}),Object(C.jsx)(O.b,{path:"*",element:Object(C.jsx)(H,{})})]})})})})},Le=n(51),Ye=n(23),We={isOpened:!1},Xe={randomDish:[],favourites:localStorage.getItem("favDishes")?JSON.parse(localStorage.getItem("favDishes")):[],loading:!1,error:null},Ge=Object(Le.b)({sideBar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case N.SET_SIDEBAR:return{isOpened:a};default:return Object(Ye.a)({},e)}},dishes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case V.FETCH_DISHES:return Object(Ye.a)(Object(Ye.a)({},e),{},{randomDish:[],loading:!0});case V.FETCH_DISHES_SUCCESS:return Object(Ye.a)(Object(Ye.a)({},e),{},{loading:!1,randomDish:Object(Ye.a)({},a)});case V.FETCH_DISHES_ERROR:return Object(Ye.a)(Object(Ye.a)({},e),{},{loading:!1,error:a});case V.SET_DISH_TO_FAVOURITE:return Object(Ye.a)(Object(Ye.a)({},e),{},{favourites:[a].concat(Object(P.a)(e.favourites))});case V.REMOVE_DISH:var r=JSON.parse(localStorage.getItem("favDishes")),i=r.filter((function(e){return e.idMeal!==a.idMeal}));return localStorage.setItem("favDishes",JSON.stringify(i)),Object(Ye.a)(Object(Ye.a)({},e),{},{favourites:e.favourites.filter((function(e){return e.idMeal!==a.idMeal}))});case V.ADD_DISH:return Object(Ye.a)(Object(Ye.a)({},e),{},{favourites:[a].concat(Object(P.a)(e.favourites))});default:return Object(Ye.a)({},e)}}}),Pe=n(116),Ke=n(117),Qe=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,Le.c),Ze=[Ke.a];Object(Pe.createLogger)({duration:!0,collapsed:!0,colors:{title:function(e){return e.error?"firebrick":"deepskyblue"},prevState:function(){return"#1C5FAF"},action:function(){return"#149945"},nextState:function(){return"#A47104"},error:function(){return"#ff0005"}}});var $e=Object(Le.d)(Ge,Qe(Le.a.apply(void 0,Object(P.a)(Ze))));d.a.render(Object(C.jsx)(u.a,{store:$e,children:Object(C.jsx)(b.a,{children:Object(C.jsx)(qe,{})})}),document.getElementById("root"))}},[[161,1,2]]]);
//# sourceMappingURL=main.651d585b.chunk.js.map